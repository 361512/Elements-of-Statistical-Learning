ls
ls()
pwd()
dir
dir()
setwd("~/Documents/Learning 2012/Elements of Statistical Learning/R Code")
zip.train <- read.table(file="zip.train", header=F)
View(zip.train)
zip.train[,1]
View(zip.train)
zip.train.filtered = zip.train[zip.train[,1] == 2 | zip.train[,1] == 3]
zip.train.filtered = zip.train[zip.train[,1] == 2 | zip.train[,1] == 3, ]
View(zip.train.filtered)
zip.train.filtered.v1
zip.train.filtered.V1
zip.train.filtered[2]
zip.train.filtered[V1]
zip.train.filtered
head(zip.train.filtered)
head(zip.train.filtered)
zip.train.filtered <- subset(zip.train, V1 == 2 | V1 == 3)
zip.train.filtered
View(zip.train.filtered)
View(zip.train.filtered)
zip.train.filtered <- zip.train.filtered[2,]
View(zip.train)
View(zip.train.filtered)
View(zip.train.filtered)
zip.train.filtered <- subset(zip.train, V1 == 2 | V1 == 3)
View(zip.train.filtered)
y <- zip.train.filtered[V1]
y <- zip.train.filtered.V1
y <- zip.train.filtered["V1"]
View(y)
View(zip.train)
View(zip.train.filtered)
zip.train <- as.data.frame(zip.train)
zip.train <- as.data.frame(zip.train)
zip.train[,1] <- as.factor(zip.train[,1])
colnames(zip.train) <- c("Y",paste("X.",1:256,sep=""))
View(zip.train)
zip.train.filtered <- subset(zip.train, Y == 2 | Y == 3)
View(zip.train.filtered)
mod <- lm(Y ~ ., data = zip.train.filtered)
zip.train.filtered["Y"] <- zip.train.filtered["Y"] - 2
zip.train.filtered["Y"] <- as.numeric(zip.train.filtered["Y"])
zip.train.filtered["Y"] <- as.numeric(zip.train.filtered[, 1])
zip.train.filtered
View(zip.train.filtered)
zip.train
zip.train["Y"]
as.numeric(zip.train["Y"])
as.numeric(as.character(zip.train["Y"]))
zip.train <- as.data.frame(zip.train)
zip.train <- as.data.frame(read.table(file="zip.train", header=FALSE))
colnames(zip.train) <- c("Y",paste("X.",1:256,sep=""))
View(zip.train)
zip.train.filtered <- subset(zip.train, Y == 2 | Y == 3)
View(zip.train.filtered)
mod <- lm(Y ~ ., data = zip.train.filtered)
mod
summary(mod)
zip.test <- as.data.frame(read.table(file="zip.test", header=FALSE))
colnames(zip.test) <- c("Y",paste("X.",1:256,sep=""))
zip.test.filtered <- subset(zip.test, Y == 2 | Y == 3)
zip.train.filtered[,0]
zip.train.filtered[1]
zip.train.filtered[,9]
zip.train.filtered[9,]
t = zip.train.filtered[9,]
predict(mod, t)
for c in zip.test.filtered {}
mod.predict(t)
lm.predict(mod, t)
predict(mod, t)
predict(mod, zip.train.filtered)
predict(mod, zip.test.filtered)
predict(mod, zip.test.filtered)
zip.test.filtered$Ypred <- predict(mod, zip.test.filtered)
View(zip.train.filtered)
View(zip.test.filtered)
mod
View(zip.test.filtered)
View(zip.test.filtered$Ypred)
library(ggplot2)
library(ggplot)
install.packages(c("Matrix", "lattice", "rpart"))
install.packages("ggplot2")
library("ggplot2")
qplot(zip.train.filtered$Y, zip.train.filtered$Ypred)
qplot(x = zip.train.filtered$Y, y = zip.train.filtered$Ypred)
zip.train.filtered$Ypred
zip.test.filtered$Ypred
qplot(x = zip.test.filtered$Y, y = zip.test.filtered$Ypred)
f
f2 = function(x) {}
f2 = function(x) {
if (x > 2.5) 3 else 2
}
f2(5)
f2(1)
zip.test.filtered$Yround = f2(zip.test.filtered$Ypred)
zip.test.filtered$Yround = apply(zip.test.filtered$Ypred, f2)
zip.test.filtered$Yround = apply(zip.test.filtered$Ypred, FUN=f2)
zip.test.filtered$Yround = sapply(zip.test.filtered$Ypred, FUN=f2)
zip.test.filtered$Yround
qplot(x = zip.test.filtered$Y, y = zip.test.filtered$Yround)
qplot(mod)
plot(mod)
zip.train.filtered$Yfac <- as.factor(zip.train.filtered$Yfac)
zip.train.filtered$Yfac <- as.factor(zip.train.filtered$Y)
zip.test.filtered$Yfac <- as.factor(zip.test.filtered$Y)
library("RColorBrewer")
detach("package:RColorBrewer")
install.packages(knn)
install.packages("knn")
knn
knn()
remove.packages("knn")
library("class")
knn(train=zip.train.filtered, test=zip.test.filtered, cl=Yfac)
knn(train=zip.train.filtered, test=zip.test.filtered, "Yfac")
knn(train=zip.train.filtered, test=zip.test.filtered, zip.train.filtered$Yfac)
View(zip.test.filtered)
View(zip.train.filtered)
knn.data = subset(zip.test, Y == 2 | Y == 3)
knn.test.data <- subset(zip.test, Y == 2 | Y == 3)
knn.train.data <- subset(zip.train, Y == 2 | Y == 3)
knn.train.data$Y <- as.factor(knn.train.data$Y)
knn(train=knn.train.data, test=knn.test.data, Y)
knn(train=knn.train.data, test=knn.test.data, cl=Y)
knn(train=knn.train.data, test=knn.test.data, knn.train.data$Y)
knn.class = knn(train=knn.train.data, test=knn.test.data, knn.train.data$Y)
knn.factors = knn.train.data$Y
qplot(knn.class, knn.factors)
qplot(knn.class, knn.test.data$Y)
[]
y = []
knn.class = knn(train=knn.train.data, test=knn.test.data, knn.train.data$Y, k = 1)
sapply(1:15, function(k) { knn(train=knn.train.data, test=knn.test.data, knn.train.data$Y, k = k) })
knn.results = sapply(1:15, function(k) { knn(train=knn.train.data, test=knn.test.data, knn.train.data$Y, k = k) })
View(knn.results)
knn.class
knn.class - knn.results$V1
knn.class - knn.results["V1"]
knn.results["V1"]
knn.results
knn.results <- as.data.frame(knn.results)
knn.results
knn.results$V1
knn.results$V1 - knn.class
knn.results$V1 - as.numeric(knn.class)
as.numeric(knn.results$V1) - as.numeric(knn.class)
install.packages("mclust")
library("mclust")
classError(knn.test.data$Y, classification=knn.results$V1)
classError(knn.test.data$Y, classification=knn.results$V10)
errors = sapply(knn.results, function(classification) { classError(knn.test.data$Y, classification)$errorRate})
errors
qplot(errors)
qplot(1:15, errors)
qplot(1:15, errors)  + geom_line()
errors.cols
columns(errors)
errors[1,]
errors
as.data.frame(errors)
errors = as.data.frame(errors)
errors[1,]
errors[0,]
errors[,1]
errors[,1]
errors
View(errors)
errors$row.names
errors$errors
errors$y = 1:15
errors$k = 1:15
errors
errors$y <- NULL
errors
p <- qplot(data=errors, x=k, y=errors)
p + geom_smooth()
p + scale_colour_brewer()
p + scale_colour_brewer(type="seq")
p <- qplot(data=errors, x=k, y=errors, colour=errors)
p + scale_colour_brewer(type="seq")
p + scale_colour_brewer()
p <- qplot(data=errors, x=k, y=errors, colour=k) + scale_colour_brewer()
p <- qplot(data=errors, x=k, y=errors, colour=k)
p <- qplot(data=errors, x=k, y=errors)
p <- qplot(data=errors, x=k, y=errors)
p
p <- qplot(data=errors, x=k, y=errors, colour=k)
p
p <- qplot(data=errors, x=k, y=errors, colour=k) + scale_color_brewer
p <- qplot(data=errors, x=k, y=errors, colour=k) + scale_color_brewer()
p
p
p <- qplot(data=errors, x=k, y=errors, colour=k)
p
p <- qplot(data=errors, x=k, y=errors, colour=k) + geom_line()
p
p <- qplot(data=errors, x=k, y=errors, colour=k) + geom_line() + scale_colour_brewer()
p
p <- qplot(data=errors, x=k, y=errors, colour=k) + geom_line()
p <- qplot(data=errors, x=k, y=errors, colour=k) + geom_line()
p
p <- qplot(data=errors, x=k, y=errors, colour=y) + geom_line()
p
p <- qplot(data=errors, x=k, y=errors, colour=errors) + geom_line()
p
p + scale_color_brewer()
View(zip.test)
